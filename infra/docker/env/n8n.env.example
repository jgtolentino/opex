# n8n Environment Variables
# Copy this file to n8n.env and fill in your values

# ========================================================================
# Core n8n Configuration
# ========================================================================
N8N_HOST=n8n.insightpulseai.net
N8N_PORT=5678
N8N_PROTOCOL=https
WEBHOOK_URL=https://n8n.insightpulseai.net/
GENERIC_TIMEZONE=Asia/Manila
TZ=Asia/Manila

# ========================================================================
# Database Configuration (SQLite - default)
# ========================================================================
DB_TYPE=sqlite
DB_SQLITE_DATABASE=/home/node/.n8n/database.sqlite

# ========================================================================
# Execution Configuration
# ========================================================================
EXECUTIONS_PROCESS=main
EXECUTIONS_MODE=queue
EXECUTIONS_DATA_SAVE_ON_ERROR=all
EXECUTIONS_DATA_SAVE_ON_SUCCESS=all
EXECUTIONS_DATA_SAVE_ON_PROGRESS=true
EXECUTIONS_DATA_SAVE_MANUAL_EXECUTIONS=true

# Data pruning (keep executions for 7 days)
EXECUTIONS_DATA_PRUNE=true
EXECUTIONS_DATA_MAX_AGE=168

# ========================================================================
# Logging
# ========================================================================
N8N_LOG_LEVEL=info
N8N_LOG_OUTPUT=console
N8N_LOG_FILE_COUNT_MAX=5
N8N_LOG_FILE_SIZE_MAX=10

# ========================================================================
# Security & Authentication
# ========================================================================
# Set a random encryption key (generate with: openssl rand -base64 32)
N8N_ENCRYPTION_KEY=your_encryption_key_here

# Basic auth (optional - remove in production with proper auth)
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=your_n8n_password_here

# ========================================================================
# External Services Integration
# ========================================================================
# Supabase
SUPABASE_URL=https://ublqmilcjtpnflofprkr.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# Rocket.Chat (for alert-notifier workflow)
ROCKETCHAT_WEBHOOK_URL=https://your.rocket.chat/hooks/your_webhook_id_here

# OpenAI (optional - for AI-powered workflows)
OPENAI_API_KEY=sk-your_openai_api_key_here

# ========================================================================
# Workflow Execution
# ========================================================================
# Timeout for workflow executions (in seconds)
EXECUTIONS_TIMEOUT=300
EXECUTIONS_TIMEOUT_MAX=3600

# ========================================================================
# Performance Tuning
# ========================================================================
# Number of concurrent workflow executions
N8N_CONCURRENCY_PRODUCTION_LIMIT=10

# ========================================================================
# Optional: Email Configuration (for notifications)
# ========================================================================
# N8N_EMAIL_MODE=smtp
# N8N_SMTP_HOST=smtp.gmail.com
# N8N_SMTP_PORT=465
# N8N_SMTP_USER=your_email@gmail.com
# N8N_SMTP_PASS=your_app_password_here
# N8N_SMTP_SENDER=your_email@gmail.com
# N8N_SMTP_SSL=true
